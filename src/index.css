@import "tailwindcss";

@layer base {
  :root {
    /* ライトモード（既存） */
    --color-primary: #00704A;
    /* 深緑 - 集中力UP */
    --color-primary-dark: #005A3A;
    --color-primary-light: #008C5C;

    /* アクセントカラー */
    --color-accent-success: #48BB78;
    /* 明るい緑 - 成功 */
    --color-accent-gold: #D4AF37;
    /* ゴールド - 達成 */
    --color-accent-teal: #20B2AA;
    /* ティール - カレンダー */
    --color-accent-coral: #FF6B6B;
    /* コーラル - 重要/警告 */

    /* 背景（スターバックス風） */
    --color-bg-primary: #FFFEF9;
    /* クリーム系の白 */
    --color-bg-secondary: #F5F5F0;
    /* ベージュ系 */
    --color-bg-card: #FFFFFF;
    /* 純白 */
    --color-bg-hover: #F0EDE5;
    /* ホバー時 */

    /* テキスト */
    --color-text-primary: #1A1A1A;
    /* 濃い黒 */
    --color-text-secondary: #4A5568;
    /* グレー */
    --color-text-muted: #718096;
    /* 薄いグレー */
    --color-text-inverse: #FFFFFF;
    /* 白（ボタン内） */

    /* ステータス */
    --color-success: #48BB78;
    /* 成功 */
    --color-warning: #F6AD55;
    /* 警告 */
    --color-error: #FC8181;
    /* エラー */
    --color-info: #63B3ED;
    /* 情報 */

    /* ボーダー・シャドウ */
    --color-border: #E2E8F0;
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
  }

  /* ダークモード */
  :root.dark {
    --color-primary: #4ADE80;
    --color-primary-dark: #22C55E;
    --color-primary-light: #86EFAC;

    /* アクセントカラー */
    --color-accent-success: #4ADE80;
    --color-accent-gold: #FCD34D;
    --color-accent-teal: #2DD4BF;
    --color-accent-coral: #F87171;

    /* 背景 */
    --color-bg-primary: #0F172A;
    /* Slate 900 */
    --color-bg-secondary: #1E293B;
    /* Slate 800 */
    --color-bg-card: #1E293B;
    /* Slate 800 */
    --color-bg-hover: #334155;
    /* Slate 700 */

    /* テキスト */
    --color-text-primary: #F1F5F9;
    /* Slate 100 */
    --color-text-secondary: #CBD5E1;
    /* Slate 300 */
    --color-text-muted: #94A3B8;
    /* Slate 400 */
    --color-text-inverse: #0F172A;
    /* Slate 900 */

    /* ステータス */
    --color-success: #4ADE80;
    --color-warning: #FBBF24;
    --color-error: #F87171;
    --color-info: #38BDF8;

    /* ボーダー・シャドウ */
    --color-border: #334155;
    /* Slate 700 */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
  }

  body {
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    font-family: 'Libre Baskerville', Baskerville, serif;
  }

  /* ダークモード切替時のスムーズなトランジション */
  *,
  *::before,
  *::after {
    transition:
      background-color 0.3s ease,
      border-color 0.3s ease,
      color 0.2s ease,
      fill 0.2s ease,
      stroke 0.2s ease;
  }

  /* ただしアニメーション要素は除外 */
  .animate-fadeIn,
  .animate-slideUp,
  .animate-pulse,
  .animate-bounce,
  .animate-ping,
  .animate-spin {
    transition: none;
  }
}

@layer utilities {

  /* ページ全体のフェードイン */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* カードのスライドアップ */
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ボタンのパルス（実行中） */
  @keyframes pulse {

    0%,
    100% {
      opacity: 1;
      transform: scale(1);
    }

    50% {
      opacity: 0.8;
      transform: scale(1.02);
    }
  }

  /* 成功時のバウンス */
  @keyframes bounce {

    0%,
    100% {
      transform: translateY(0);
    }

    25% {
      transform: translateY(-10px);
    }

    50% {
      transform: translateY(0);
    }

    75% {
      transform: translateY(-5px);
    }
  }

  /* モーダルのスケール */
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* シェイク（エラー時） */
  @keyframes shake {

    0%,
    100% {
      transform: translateX(0);
    }

    25% {
      transform: translateX(-10px);
    }

    75% {
      transform: translateX(10px);
    }
  }

  /* アニメーションクラス */
  .animate-fadeIn {
    animation: fadeIn 0.6s ease-out;
  }

  .animate-slideUp {
    animation: slideUp 0.5s ease-out;
  }

  .animate-slideUp-delay-1 {
    animation: slideUp 0.5s ease-out 0.1s backwards;
  }

  .animate-slideUp-delay-2 {
    animation: slideUp 0.5s ease-out 0.2s backwards;
  }

  .animate-slideUp-delay-3 {
    animation: slideUp 0.5s ease-out 0.3s backwards;
  }

  .animate-pulse {
    animation: pulse 2s ease-in-out infinite;
  }

  .animate-bounce {
    animation: bounce 0.6s ease-out;
  }

  .animate-scaleIn {
    animation: scaleIn 0.3s ease-out;
  }

  .animate-shake {
    animation: shake 0.3s ease-out;
  }

  /* ホバー効果 */
  .hover-lift {
    transition: all 0.2s ease-out;
    will-change: transform;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 112, 74, 0.15);
  }

  .hover-scale {
    transition: transform 0.2s ease-out;
    will-change: transform;
  }

  .hover-scale:hover {
    transform: scale(1.05);
  }

  /* ボタンのアクティブ効果 */
  .active-press:active {
    transform: scale(0.97);
  }

  /* トランジション */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* --- Phase C: Responsive Utilities --- */

  /* タッチ操作最適化 */
  .tap-target {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* モバイル用のスペーシング */
  .mobile-padding {
    @apply px-4 py-3;
  }

  @media (min-width: 768px) {
    .mobile-padding {
      @apply px-6 py-4;
    }
  }

  /* スムーズスクロール */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* テキストサイズ調整 */
  .text-responsive {
    @apply text-sm md:text-base lg:text-lg;
  }

  .heading-responsive {
    @apply text-xl md:text-2xl lg:text-3xl;
  }

  /* モバイルカード（共通スタイル） */
  .mobile-card {
    @apply bg-[var(--color-bg-card)] p-6 rounded-xl shadow-[var(--shadow-md)] h-full border border-[var(--color-border)];
  }
}